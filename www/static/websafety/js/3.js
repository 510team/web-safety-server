webpackJsonp([3],{"6ak2":function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=o("0jG4"),s={data:function(){return{postForm:{title:"",content:""},formRules:{title:[{required:!0,message:"请输入标题",trigger:"blur"}],content:[{required:!0,message:"请输入内容",trigger:"blur"}]},type:this.$route.query.type}},methods:{onEnsure:function(){this.add()},add:function(){var t=this;this.$refs.postForm.validate(function(e){e&&Object(r.a)(t.postForm).then(function(e){t.$message({type:"success",message:"发布成功"}),t.$route.push({path:"/list"})}).catch(function(t){})})}},created:function(){var t=this;"view"!==this.type&&"edit"!==this.type||Object(r.e)({id:this.$route.query.id}).then(function(e){var o=e.data;t.postForm.content=o.content,t.postForm.title=o.title}).catch()}},n={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"posted"},[o("el-form",{ref:"postForm",attrs:{model:t.postForm,rules:t.formRules,"label-width":"100px"}},[o("el-form-item",{attrs:{label:"标题",prop:"title"}},[o("el-input",{attrs:{placeholder:"请输入标题",disabled:"view"===t.type},model:{value:t.postForm.title,callback:function(e){t.$set(t.postForm,"title","string"==typeof e?e.trim():e)},expression:"postForm.title"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"内容",prop:"content"}},[o("el-input",{attrs:{type:"textarea",autosize:{minRows:10,maxRows:10},placeholder:"开始你的创作吧",disabled:"view"===t.type},model:{value:t.postForm.content,callback:function(e){t.$set(t.postForm,"content","string"==typeof e?e.trim():e)},expression:"postForm.content"}})],1),t._v(" "),"view"!==t.type?o("el-form-item",[o("el-button",[t._v("取消")]),t._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:t.onEnsure}},[t._v("发布")])],1):t._e()],1)],1)},staticRenderFns:[]},i=o("VU/8")(s,n,!1,null,null,null);e.default=i.exports}});
//# sourceMappingURL=3.js.map