webpackJsonp([2],{"/mhb":function(t,e){},"80bi":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n("0jG4"),r={toFormat:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yyyy-MM-dd hh:mm:ss",n=new Date(t),o={"M+":n.getMonth()+1,"d+":n.getDate(),"h+":n.getHours(),"m+":n.getMinutes(),"s+":n.getSeconds(),"q+":Math.floor((n.getMonth()+3)/3),S:n.getMilliseconds()};for(var r in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(n.getFullYear()+"").substr(4-RegExp.$1.length))),o)new RegExp("("+r+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?o[r]:("00"+o[r]).substr((""+o[r]).length)));return e}},a={data:function(){return{tableHeader:[{label:"发帖人",prop:"name"},{label:"标题",prop:"title"},{label:"发布时间",prop:"create_time"}],tableData:[]}},created:function(){this.fetch()},methods:{fetch:function(){var t=this;return Object(o.c)().then(function(e){t.tableData=e.list}).catch(function(t){console.log(t)})},onDelete:function(t){var e=this;Object(o.b)({id:t.id}).then(function(t){e.fetch().then(function(){e.$message({type:"success",message:"删除成功"})}).catch(function(t){console.log("err",t),e.$message({type:"success",message:t})})}).catch(function(t){})},onJump:function(t,e){this.jump(t,e)},jump:function(t,e){this.$router.push({path:"/posted",query:{type:t,id:e&&e.id}})}},filters:{formatTime:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yyyy-MM-dd hh:mm:ss";return t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2]?t:1e3*t,r.toFormat(t,e)}}},l={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"posted-list"},[n("el-button",{staticClass:"pull-right",attrs:{type:"primary"},on:{click:function(e){t.onJump("add")}}},[t._v("新增")]),t._v(" "),n("el-table",{attrs:{data:t.tableData,border:""}},[t._l(t.tableHeader,function(e){return n("el-table-column",{key:e.prop,attrs:{prop:e.prop,label:e.label,align:"center"},scopedSlots:t._u([{key:"default",fn:function(o){return["created_time"===e.prop?n("span",[t._v(t._s(t._f("formatTime")(o.row.created_time)))]):n("span",[t._v(t._s(o.row[e.prop]))])]}}])})}),t._v(" "),n("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"text"},on:{click:function(n){t.onJump("view",e.row)}}},[t._v("查看")]),t._v(" "),n("el-button",{attrs:{type:"text"},on:{click:function(n){t.onJump("edit",e.row)}}},[t._v("编辑")]),t._v(" "),n("el-button",{attrs:{type:"text"},on:{click:function(n){t.onDelete(e.row)}}},[t._v("删除")])]}}])})],2)],1)},staticRenderFns:[]};var s=n("VU/8")(a,l,!1,function(t){n("/mhb")},null,null);e.default=s.exports}});
//# sourceMappingURL=2.js.map