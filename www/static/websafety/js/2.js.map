{"version":3,"sources":["webpack:///./src/util/date.js","webpack:///src/views/list.vue","webpack:///./src/views/list.vue?7724","webpack:///./src/views/list.vue"],"names":["date","toFormat","dateStr","fmt","arguments","length","undefined","Date","o","M+","getMonth","d+","getDate","h+","getHours","m+","getMinutes","s+","getSeconds","q+","Math","floor","S","getMilliseconds","k","test","replace","RegExp","$1","getFullYear","substr","list","data","tableHeader","label","prop","tableData","created","this","fetch","methods","_this","Object","service","then","catch","err","console","log","onDelete","row","_this2","id","$message","type","message","onJump","jump","$router","push","path","query","filters","formatTime","value","customFormat","util_date","views_list","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","on","click","$event","_v","border","_l","header","key","align","scopedSlots","_u","fn","scope","_s","_f","created_time","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/websafety/js/2.js","sourcesContent":["const date = {\n    /**\n     * 日期格式化\n     * @param phone\n     */\n    toFormat: function(dateStr, fmt = \"yyyy-MM-dd hh:mm:ss\") {\n        const date = new Date(dateStr);\n        //author: meizz\n        const o = {\n            \"M+\": date.getMonth() + 1, //月份\n            \"d+\": date.getDate(), //日\n            \"h+\": date.getHours(), //小时\n            \"m+\": date.getMinutes(), //分\n            \"s+\": date.getSeconds(), //秒\n            \"q+\": Math.floor((date.getMonth() + 3) / 3), //季度\n            S: date.getMilliseconds() //毫秒\n        };\n        if (/(y+)/.test(fmt)) {\n            fmt = fmt.replace(\n                RegExp.$1,\n                (date.getFullYear() + \"\").substr(4 - RegExp.$1.length)\n            );\n        }\n        for (const k in o) {\n            if (new RegExp(\"(\" + k + \")\").test(fmt)) {\n                fmt = fmt.replace(\n                    RegExp.$1,\n                    RegExp.$1.length == 1\n                        ? o[k]\n                        : (\"00\" + o[k]).substr((\"\" + o[k]).length)\n                );\n            }\n        }\n        return fmt;\n    }\n};\nexport default date;\n\n\n\n// WEBPACK FOOTER //\n// ./src/util/date.js","<template>\n    <div class=\"posted-list\">\n        <el-button class=\"pull-right\" type=\"primary\" @click=\"onJump('add')\">新增</el-button>\n        <el-table :data=\"tableData\" border>\n            <el-table-column v-for=\"header in tableHeader\" :key=\"header.prop\" :prop=\"header.prop\" :label=\"header.label\" align=\"center\">\n                <template slot-scope=\"scope\">\n                    <span v-if=\"header.prop==='created_time'\">{{scope.row.created_time | formatTime}}</span>\n                    <span v-else>{{scope.row[header.prop]}}</span>\n                </template>\n            </el-table-column>\n            <el-table-column label=\"操作\" align=\"center\">\n                <template slot-scope=\"scope\">\n                    <el-button type=\"text\" @click=\"onJump('view',scope.row)\">查看</el-button>\n                    <el-button type=\"text\" @click=\"onJump('edit',scope.row)\">编辑</el-button>\n                    <el-button type=\"text\" @click=\"onDelete(scope.row)\">删除</el-button>\n                </template>\n            </el-table-column>\n        </el-table>\n    </div>\n</template>\n<script>\nimport { list, deleteArticle } from \"../service/index.js\";\nimport date from \"../util/date.js\";\nexport default {\n    data() {\n        return {\n            tableHeader: [\n                {\n                    label: \"发帖人\",\n                    prop: \"name\"\n                },\n                {\n                    label: \"标题\",\n                    prop: \"title\"\n                },\n                {\n                    label: \"发布时间\",\n                    prop: \"create_time\"\n                }\n            ],\n            tableData: []\n        };\n    },\n    created() {\n        this.fetch();\n    },\n    methods: {\n        fetch() {\n            return list()\n                .then(data => {\n                    this.tableData = data.list;\n                })\n                .catch(err => {\n                    console.log(err);\n                });\n        },\n        onDelete(row) {\n            deleteArticle({ id: row.id })\n                .then(data => {\n                    this.fetch()\n                        .then(() => {\n                            this.$message({\n                                type: \"success\",\n                                message: \"删除成功\"\n                            });\n                        })\n                        .catch(err => {\n                            console.log(\"err\", err);\n                            this.$message({\n                                type: \"success\",\n                                message: err\n                            });\n                        });\n                })\n                .catch(err => {});\n        },\n\n        onJump(type, row) {\n            this.jump(type, row);\n        },\n        jump(type, row) {\n            this.$router.push({\n                path: \"/posted\",\n                query: {\n                    type: type,\n                    id: row && row.id\n                }\n            });\n        }\n    },\n    filters: {\n        formatTime(value, customFormat = \"yyyy-MM-dd hh:mm:ss\", isMsec = true) {\n            value = isMsec ? value : value * 1000;\n            return date.toFormat(value, customFormat);\n        }\n    }\n};\n</script>\n<style lang='less'>\n.el-table {\n    thead {\n        color: #fff;\n    }\n    th {\n        background: #909399;\n    }\n}\n.pull-right {\n    float: right;\n}\n</style>\n\n\n\n\n// WEBPACK FOOTER //\n// src/views/list.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"posted-list\"},[_c('el-button',{staticClass:\"pull-right\",attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.onJump('add')}}},[_vm._v(\"新增\")]),_vm._v(\" \"),_c('el-table',{attrs:{\"data\":_vm.tableData,\"border\":\"\"}},[_vm._l((_vm.tableHeader),function(header){return _c('el-table-column',{key:header.prop,attrs:{\"prop\":header.prop,\"label\":header.label,\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(header.prop==='created_time')?_c('span',[_vm._v(_vm._s(_vm._f(\"formatTime\")(scope.row.created_time)))]):_c('span',[_vm._v(_vm._s(scope.row[header.prop]))])]}}])})}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){_vm.onJump('view',scope.row)}}},[_vm._v(\"查看\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){_vm.onJump('edit',scope.row)}}},[_vm._v(\"编辑\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){_vm.onDelete(scope.row)}}},[_vm._v(\"删除\")])]}}])})],2)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-b2a956e4\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/list.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-b2a956e4\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./list.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./list.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./list.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-b2a956e4\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./list.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/list.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}